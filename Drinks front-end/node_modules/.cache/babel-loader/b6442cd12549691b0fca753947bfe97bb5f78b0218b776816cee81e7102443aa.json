{"ast":null,"code":"import _objectSpread from\"/Users/luizferri/quests/drinks/Drinks front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/luizferri/quests/drinks/Drinks front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import serviceApi from'../../services/Api';// Import your serviceApi\nimport Slider from'react-slick';import Drink from'../../components/DrinkCard';import{useParams}from'react-router-dom';import Dropdown from'react-bootstrap/Dropdown';import\"../../pages/drinks/drinks.css\";import'slick-carousel/slick/slick.css';import'slick-carousel/slick/slick-theme.css';import loupeImage from'../../images/loupe.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),drinks=_useState2[0],setDrinks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drinkCateg=_useState4[0],setDrinkCateg=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];// New state for the search term\nvar _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),searchDrinkCategory=_useState10[0],setSearchDrinkCategry=_useState10[1];var _useState11=useState(window.innerWidth),_useState12=_slicedToArray(_useState11,2),windowWidth=_useState12[0],setWindowWidth=_useState12[1];var drinksPerPage=20;var totalDrinks=600;// Set the total number of drinks (if known)\nvar breakpoint=768;var fetchDrinks=function fetchDrinks(){// Use the serviceApi.searchDrinks function if a searchTerm is provided, otherwise, use serviceApi.getAll\nvar apiCall=searchTerm?serviceApi.searchDrinks(searchTerm):serviceApi.getAll();apiCall.then(function(response){var newDrinks=response.drinks||[];setDrinks(newDrinks);}).catch(function(error){console.error('Error fetching drinks:',error);setDrinks([]);});};useEffect(function(){var apiCategory=serviceApi.getCategory();apiCategory.then(function(response){setDrinkCateg(response.drinks);}).catch(function(error){console.error('Error fetching drinks:',error);setDrinkCateg([]);});},[]);useEffect(function(){fetchDrinks();},[searchTerm]);// Include currentPage and searchTerm in the dependency array\nuseEffect(function(){var handleResize=function handleResize(){setWindowWidth(window.innerWidth);};window.addEventListener('resize',handleResize);// Clean up the event listener on component unmount\nreturn function(){window.removeEventListener('resize',handleResize);};},[]);var carouselSettings={dots:false,infinite:true,speed:500,slidesToShow:1,// Number of drinks shown at once\nslidesToScroll:1,responsive:[{breakpoint:768,// Adjust the breakpoint based on your design and device\nsettings:{slidesToShow:1}}]};var handleCategoryChange=function handleCategoryChange(selectedCategory){var drinkCat=selectedCategory.replace(/\\s+/g,'_');setSearchDrinkCategry(drinkCat);console.log(searchDrinkCategory);var fetchDrink=function fetchDrink(){var apiCall=serviceApi.searchDrinksCateg(searchDrinkCategory);apiCall.then(function(response){var newDrinks=response.drinks;console.log(response.drinks);setDrinks(newDrinks);}).catch(function(error){console.error('Error fetching drinks:',error);setDrinks([]);});};};return/*#__PURE__*/_jsxs(\"div\",{className:\"drinksPage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"drink-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter drink name\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}}),/*#__PURE__*/_jsx(\"img\",{src:loupeImage,alt:\"Search\",className:\"search-icon\"})]}),/*#__PURE__*/_jsx(\"div\",{className:windowWidth>=breakpoint?'drink-container':'drink-carousel',children:windowWidth<breakpoint?/*#__PURE__*/ // Check if the window width is greater than the breakpoint\n_jsx(Slider,_objectSpread(_objectSpread({},carouselSettings),{},{children:drinks.map(function(drink,index){return/*#__PURE__*/_jsx(Drink,{drink:drink},index);})})):// Render the regular layout when window width is smaller than or equal to the breakpoint\ndrinks.map(function(drink,index){return/*#__PURE__*/_jsx(Drink,{drink:drink},index);})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","serviceApi","Slider","Drink","useParams","Dropdown","loupeImage","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","drinks","setDrinks","_useState3","_useState4","drinkCateg","setDrinkCateg","_useState5","_useState6","currentPage","setCurrentPage","_useState7","_useState8","searchTerm","setSearchTerm","_useState9","_useState10","searchDrinkCategory","setSearchDrinkCategry","_useState11","window","innerWidth","_useState12","windowWidth","setWindowWidth","drinksPerPage","totalDrinks","breakpoint","fetchDrinks","apiCall","searchDrinks","getAll","then","response","newDrinks","catch","error","console","apiCategory","getCategory","handleResize","addEventListener","removeEventListener","carouselSettings","dots","infinite","speed","slidesToShow","slidesToScroll","responsive","settings","handleCategoryChange","selectedCategory","drinkCat","replace","log","fetchDrink","searchDrinksCateg","className","children","type","placeholder","value","onChange","e","target","src","alt","_objectSpread","map","drink","index"],"sources":["/Users/luizferri/quests/drinks/Drinks front-end/src/pages/drinks/drinksPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport serviceApi from '../../services/Api'; // Import your serviceApi\nimport Slider from 'react-slick';\nimport Drink from '../../components/DrinkCard';\nimport { useParams } from 'react-router-dom';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nimport \"../../pages/drinks/drinks.css\"\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport loupeImage from '../../images/loupe.png'\n\nconst App = () => {\n  \n  const [drinks, setDrinks] = useState([]);\n  const [drinkCateg, setDrinkCateg]= useState([])\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState(''); // New state for the search term\n  const [searchDrinkCategory, setSearchDrinkCategry]=useState('')\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const drinksPerPage = 20;\n  const totalDrinks = 600; // Set the total number of drinks (if known)\n  const breakpoint = 768\n  \n  \n\n  const fetchDrinks = () => {\n    \n    // Use the serviceApi.searchDrinks function if a searchTerm is provided, otherwise, use serviceApi.getAll\n    \n    const apiCall = searchTerm ? serviceApi.searchDrinks(searchTerm) : serviceApi.getAll();\n\n    apiCall\n      .then((response) => {\n        const newDrinks = response.drinks || [];\n        setDrinks(newDrinks);\n      })\n      .catch((error) => {\n        console.error('Error fetching drinks:', error);\n        setDrinks([]);\n      });\n  };\n\n    \nuseEffect(()=>{\n  const apiCategory = serviceApi.getCategory()\n  apiCategory\n      .then((response) => {\n        setDrinkCateg(response.drinks);\n      })\n      .catch((error) => {\n        console.error('Error fetching drinks:', error);\n        setDrinkCateg([]);\n      });\n},[])\n   \n\n  useEffect(() => {\n    fetchDrinks();\n  }, [searchTerm]); // Include currentPage and searchTerm in the dependency array\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWindowWidth(window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    // Clean up the event listener on component unmount\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const carouselSettings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1, // Number of drinks shown at once\n    slidesToScroll: 1,\n    responsive: [\n      {\n        breakpoint: 768, // Adjust the breakpoint based on your design and device\n        settings: {\n          slidesToShow: 1,\n        },\n      },\n    ],\n  };\n\n  const handleCategoryChange = (selectedCategory) => {\n    const drinkCat = selectedCategory.replace(/\\s+/g, '_')\n    \n    setSearchDrinkCategry(drinkCat);\n    console.log(searchDrinkCategory)\n    const fetchDrink = () => {\n    \n      const apiCall = serviceApi.searchDrinksCateg(searchDrinkCategory);\n      \n      apiCall\n        .then((response) => {\n          const newDrinks = response.drinks;\n          console.log(response.drinks)\n          setDrinks(newDrinks);\n        })\n        .catch((error) => {\n          console.error('Error fetching drinks:', error);\n          setDrinks([]);\n        });\n    };\n   \n\n  };\n\n  return (\n    <div className='drinksPage'>\n      {/* Search input and button */}\n      <div className='drink-search'>\n        <input\n          type=\"text\"\n          placeholder=\"Enter drink name\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <img src={loupeImage} alt=\"Search\" className=\"search-icon\" />\n        {/* <button onClick={handleSearch}>Search</button> */}\n      </div>\n      {/* <Dropdown>\n      <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n        Select Category\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu>\n          {drinkCateg.map((category) => (\n            <Dropdown.Item\n              key={category.strCategory}\n              onClick={() => handleCategoryChange(category.strCategory)} // Handle category change\n            >\n              {category.strCategory}\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n    </Dropdown> */}\n      <div className={windowWidth >= breakpoint ? 'drink-container' : 'drink-carousel'}>\n      {windowWidth < breakpoint ? ( // Check if the window width is greater than the breakpoint\n        <Slider {...carouselSettings}>\n          {drinks.map((drink, index) => (\n              <Drink key={index} drink={drink} />\n          ))}\n        </Slider>\n      ) : (\n        // Render the regular layout when window width is smaller than or equal to the breakpoint\n        drinks.map((drink, index) => (\n          <Drink key={index} drink={drink} />\n        ))\n      )}\n    </div>\n    \n      {/* <div>\n        <button onClick={handlePrevPage} disabled={currentPage === 1}>\n          Previous Page\n        </button>\n        <button onClick={handleNextPage} disabled={currentPage === Math.ceil(totalDrinks / drinksPerPage)}>\n          Next Page\n        </button>\n      </div> */}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}